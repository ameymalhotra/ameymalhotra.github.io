import{j as r}from"./index-BtSnVMiq.js";import{r as R}from"./react-dom-DGKMarRI.js";import{V as se,S as ie,C as re,F as ae,P as ce,W as le,B as de,a as me,b as we,c as ue}from"./three-BZTDYu2w.js";const l=1400,z=1200,D=600,I=600;function ge({theme:v="light",onToggleTheme:he}){const P=R.useRef(null),d=R.useRef(new se(0,0));R.useEffect(()=>{const i=v==="dark",m=i?0:16777215,q=i?6333946:2450411,k=new ie;k.background=new re(m),k.fog=new ae(m,200,900);const a=new ce(60,window.innerWidth/window.innerHeight,1,2e3);a.position.set(0,0,550);const w=new le({antialias:!0});w.setSize(window.innerWidth,window.innerHeight),w.setPixelRatio(window.devicePixelRatio),P.current.appendChild(w.domElement);const b=new de,j=new Float32Array(l*3),t=new Float32Array(l*3),c=new Float32Array(l*3),p=new Float32Array(l*3),M=new Uint8Array(l);for(let o=0;o<l;o++){const s=o*3,n=(Math.random()-.5)*z,f=(Math.random()-.5)*D,H=(Math.random()-.5)*I;j[s]=n,j[s+1]=f,j[s+2]=H,t[s]=n,t[s+1]=f,t[s+2]=H,c[s]=(Math.random()-.5)*.064575,c[s+1]=(Math.random()-.5)*.064575,c[s+2]=(Math.random()-.5)*.064575}b.setAttribute("position",new me(j,3));const C=new we({color:q,size:2.4,opacity:.8,transparent:!0,sizeAttenuation:!0}),Z=new ue(b,C);k.add(Z);const S=o=>{d.current.x=o.clientX/window.innerWidth*2-1,d.current.y=-(o.clientY/window.innerHeight)*2+1};window.addEventListener("mousemove",S);let W=0,N,$=performance.now(),A=0;const Y=()=>{N=requestAnimationFrame(Y);const o=performance.now(),s=Math.min((o-$)/1e3,.1);$=o,W+=.097*s;const n=b.attributes.position.array,f=1+Math.sin(W)*.01;if(Math.abs(d.current.x)<.4&&Math.abs(d.current.y)<.25){const u=Math.floor(l*.6);if(M[0]===0)for(let e=0;e<l;e++){const x=e*3;if(M[e]=e<u?1:2,M[e]===1){const g=e/u*Math.PI*2,h=280,y=170,F=0,L=0,ne=Math.sin(g)*h,oe=Math.sin(g)*Math.cos(g)*y;p[x]=ne+F,p[x+1]=oe+L,p[x+2]=(Math.random()-.5)*80}}}else M.fill(0);const J=d.current.x*300,K=d.current.y*200;for(let u=0;u<l;u++){const e=u*3;t[e]+=c[e],t[e+1]+=c[e+1],t[e+2]+=c[e+2],(t[e]<-z/2||t[e]>z/2)&&(c[e]*=-1),(t[e+1]<-D/2||t[e+1]>D/2)&&(c[e+1]*=-1),(t[e+2]<-I/2||t[e+2]>I/2)&&(c[e+2]*=-1);const x=t[e]-J,g=t[e+1]-K,h=Math.hypot(x,g);if(h<120&&h>0){const y=(1-h/120)*.6;t[e]+=x/h*y,t[e+1]+=g/h*y}if(M[u]===1)n[e]+=(p[e]-n[e])*.040425,n[e+1]+=(p[e+1]-n[e+1])*.040425,n[e+2]+=(p[e+2]-n[e+2])*.040425;else{const y=t[e]*f,F=t[e+1]*f,L=t[e+2]*f;n[e]+=(y-n[e])*.04851,n[e+1]+=(F-n[e+1])*.04851,n[e+2]+=(L-n[e+2])*.04851}}b.attributes.position.needsUpdate=!0;const Q=d.current.x*50,ee=d.current.y*30;a.position.x+=(Q-a.position.x)*.024255,a.position.y+=(ee-a.position.y)*.024255,a.lookAt(0,0,0),A+=(window.scrollY-A)*.1;const te=Math.min(1,A/window.innerHeight);C.opacity=.8*(1-te),w.render(k,a)};Y();const X=()=>{a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight),w.setPixelRatio(window.devicePixelRatio)};return window.addEventListener("resize",X),()=>{var o;window.removeEventListener("mousemove",S),window.removeEventListener("resize",X),N&&cancelAnimationFrame(N),(o=P.current)==null||o.removeChild(w.domElement),b.dispose(),C.dispose(),w.dispose()}},[v]);const B=v==="dark"?"text-white":"text-black",_=v==="dark"?"text-cyan-400":"text-blue-500",G=v==="dark"?"bg-black":"bg-white",U="Hi, I am Amey",E="Hi",V=U.slice(E.length),T=.099,O=E.length*T+.248;return r.jsxs("div",{className:`relative w-full h-screen overflow-hidden ${G}`,children:[r.jsx("div",{ref:P,className:"canvas-layer absolute top-0 left-0 w-full h-full"}),r.jsx("div",{className:"relative z-10 flex items-center justify-center h-full pointer-events-none",children:r.jsxs("h1",{className:`text-[2.5rem] sm:text-[3.375rem] md:text-[5.4rem] font-semibold tracking-tight text-center w-full ${B}`,children:[E.split("").map((i,m)=>r.jsx("span",{className:"letter-appear inline-block",style:{animationDelay:`${m*T}s`},children:i===" "?" ":i},`lead-${i}-${m}`)),V.split("").map((i,m)=>r.jsx("span",{className:"letter-appear inline-block",style:{animationDelay:`${O+m*T}s`},children:i===" "?" ":i},`trail-${i}-${m}`))]})}),r.jsx("div",{className:"absolute inset-x-0 z-10 flex justify-center pointer-events-none",style:{top:"calc(50% + 5.5rem)"},"aria-hidden":"true",children:r.jsx("div",{className:`animate-bounce ${_}`,children:r.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})]})}export{ge as default};
